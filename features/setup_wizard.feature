# language: zh-TW
功能: 設定精靈 Web UI
  作為一個 Home Assistant 使用者
  我想要使用網頁介面設定垃圾車追蹤
  以便不需要手動編輯複雜的設定檔

  背景:
    假設 API 伺服器正在運行
    而且 設定精靈已啟用

  場景: 載入設定精靈首頁
    當 我訪問設定精靈首頁 "/"
    那麼 頁面應該成功載入
    而且 頁面標題應該包含 "設定精靈"
    而且 我應該看到地址輸入框

  場景: 使用地址自動建議配置
    當 我輸入地址 "新北市板橋區中山路一段161號" 並請求建議
    那麼 API 應該返回成功回應
    而且 回應應該包含建議的座標
    而且 回應應該包含建議的路線
    而且 回應應該包含進入點和離開點

  場景: 自動建議後儲存配置
    假設 我已經取得地址 "新北市板橋區中山路一段161號" 的建議配置
    當 我儲存該配置
    那麼 儲存應該成功
    而且 我應該收到確認訊息
    而且 配置檔應該被更新

  場景: 輸入無效地址
    當 我輸入無效地址 "InvalidAddress123" 並請求建議
    那麼 API 應該返回錯誤回應
    而且 錯誤訊息應該說明地址無效

  場景: 儲存配置時缺少必要資料
    當 我嘗試儲存空配置
    那麼 API 應該返回 400 錯誤
    而且 錯誤訊息應該說明缺少必要資料

  場景大綱: 測試不同地區的地址
    當 我輸入地址 "<地址>" 並請求建議
    那麼 API 應該返回成功回應
    而且 建議的路線應該屬於 "<區域>"

    例子:
      | 地址                      | 區域   |
      | 新北市板橋區中山路一段161號  | 板橋區 |
      | 新北市中和區中和路100號     | 中和區 |
      | 新北市新店區北新路三段200號 | 新店區 |
